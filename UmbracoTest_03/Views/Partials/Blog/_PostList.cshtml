@model List<BlogPreview>
@using UmbracoTest_03.Models;

@*<div class="row">
        @for(int i = 0; i < Model.Count; i += 2)
        {
            <div class="col-md-4 text-center">
                @RenderItem(Model[i]);
                <div class="row">
                    <div class="col-md-12">
                        @if ((i+1)<Model.Count)
                        {
                            @RenderItem(Model[i + 1]);
                        }
                    </div>
                </div>
            </div>
        }
    </div>*@

@for (int i = 0; i < Model.Count; i++)
{
    if (i % 3 == 0)
    {
        <div class="row"></div>
    }
    @RenderItem(Model[i]);
    if (i % 3 == 2)
    {
        <div></div>
    }

}

@helper RenderItem(BlogPreview item)
{
    <div class="col-md-4 text-center">
        <div class="blog-inner">
            <a href="@item.LinkUrl"><img class="img-responsive" src="@item.ImageUrl" alt="Blog"></a>
            <div class="desc">
                <h3><a href="@item.LinkUrl">@item.Name</a></h3>
                <p>@item.Introduction</p>
                <p><a href="@item.LinkUrl" class="btn btn-primary btn-outline with-arrow">Read More<i class="icon-arrow-right"></i></a></p>
            </div>
        </div>
    </div>

}

